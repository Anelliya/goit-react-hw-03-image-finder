{"version":3,"sources":["components/Searchbar.jsx","components/CloseBtn.jsx","images/image.jpg","components/ImageGalleryItem.jsx","components/ImageGallery.jsx","services/imageApi.js","components/Modal.jsx","components/Button.jsx","App.js","index.js"],"names":["Searchbar","state","queryValue","handleSearchQuery","ev","setState","target","value","heandleSendValue","preventDefault","props","onSendQuery","className","type","onClick","this","autoComplete","autoFocus","placeholder","onChange","Component","protoType","PropTypes","func","CloseBtn","handleClickBtn","id","onClickBtn","ImageGalleryItem","image","onImageClick","useState","hover","setHover","webformatURL","largeImageURL","tags","onMouseOver","onMouseLeave","src","srcSet","alt","srcset","defaultProps","images","defaultImage","arrayOf","exact","string","ImageGallery","map","array","elementType","axios","defaults","baseURL","params","key","image_type","orientation","per_page","fetchImages","q","page","get","then","res","data","hits","propTypes","queryResult","number","Modal","handleEscClick","code","toggleModal","handleOverlayClick","currentTarget","window","addEventListener","removeEventListener","children","Button","App","imageUrl","modalStatus","loaderStatus","error","scrollToBottom","viewPortHeight","document","documentElement","clientWidth","scrollBy","options","prevState","length","catch","finally","handleQuery","query","alert","openModal","url","deleteImg","imageId","console","log","filteredImages","filter","prevProps","renderBtn","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.71d4ad32.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n\nclass Searchbar extends Component {\n    state = {\n        queryValue: ''\n    }\n\n    handleSearchQuery = (ev) => {\n        this.setState({ queryValue: ev.target.value })\n    }\n\n    heandleSendValue = (ev) => {\n        ev.preventDefault()\n        if (this.state.queryValue !== '') {\n            this.props.onSendQuery(this.state.queryValue)\n            this.setState({ queryValue: '' })\n        }\n    }\n\n    render() {\n        return (\n            <header className=\"Searchbar\">\n                <form className=\"SearchForm\">\n                    <button\n                        type=\"submit\"\n                        className=\"SearchForm-button\"\n                        onClick={this.heandleSendValue}>\n                        <span className=\"SearchForm-button-label\">Search</span>\n                    </button>\n                    <input\n                        value={this.state.queryValue}\n                        className=\"SearchForm-input\"\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus placeholder=\"Search images and photos\"\n                        onChange={this.handleSearchQuery} />\n                </form>\n            </header>\n        )\n    }\n\n}\n\nSearchbar.protoType = {\n    heandleSendValue: PropTypes.func,\n    handleSearchQuery: PropTypes.func\n}\n\nexport default Searchbar;","import PropTypes from 'prop-types';\n\nconst CloseBtn = ({ handleClickBtn, className, id }) => {\n    return (\n        <button className={className} onClick={handleClickBtn} id={id}>X</button>\n    )\n}\n\nCloseBtn.protoType = {\n    onClickBtn: PropTypes.func\n}\n\nexport default CloseBtn;","export default __webpack_public_path__ + \"static/media/image.c05431f6.jpg\";","import PropTypes from 'prop-types';\nimport {useState} from \"react\";\n\nimport CloseBtn from \"./CloseBtn\";\n\nimport defaultImage from '../images/image.jpg'\n\nconst ImageGalleryItem = ({ image, onImageClick, handleClickBtn }) => {\n    const [hover, setHover] = useState(false);\n\n    const { webformatURL, largeImageURL, id, tags } = image;\n\n    const nandleClick = ev => {\n        onImageClick(ev.target.srcset)\n    }\n\n    const handleClickDelBtn = (ev) => {\n        handleClickBtn(ev.target.id)\n    \n    }\n\n    const showBtn = () => {\n        setHover(true)\n    }\n\n    const notShowBtn = () => {\n        setHover(false)\n    }\n\n    return (\n        <li className=\"ImageGalleryItem\" key={id} id={id} onMouseOver={showBtn} onMouseLeave={notShowBtn}>\n            <div className=\"img_gallery_overlay\">\n                <img src={webformatURL}\n                srcSet={largeImageURL}\n                alt={tags} className=\"ImageGalleryItem-image\"\n                onClick={nandleClick} />\n                {hover && <CloseBtn className=\"close_modal_btn\" id={id} handleClickBtn={handleClickDelBtn}/>}\n           </div>\n        </li >\n    )\n}\n\nImageGalleryItem.defaultProps = {\n    images: [],\n    src: defaultImage,\n    srcSet: defaultImage,\n    alt: 'photo'\n};\n\nImageGalleryItem.protoType = {\n    images: PropTypes.arrayOf(PropTypes.exact({\n        src: PropTypes.string,\n        srcSet: PropTypes.string,\n        tags: PropTypes.string,\n    })),\n    onImageClick: PropTypes.func\n}\n\nexport default ImageGalleryItem;","import PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n\nconst ImageGallery = ({ images, onImageClick, handleClickBtn }) => {\n    return (\n        <ul className=\"ImageGallery\">\n            {images.map((image) => (\n                <ImageGalleryItem\n                    key={image.id}\n                    image={image}\n                    onImageClick={onImageClick}\n                    handleClickBtn={handleClickBtn}\n                />))\n            }\n        </ul>\n    )\n}\n\nImageGallery.protoType = {\n    images: PropTypes.array,\n    onImageClick: PropTypes.func,\n    ImageGalleryItem: PropTypes.elementType\n}\n\nexport default ImageGallery;","import axios from \"axios\";\nimport PropTypes from 'prop-types';\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = '19685928-f191ac91b9da632ea9a4b744f';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: 12\n}\n\nconst fetchImages = ({ q, page = 1 }) => {\n    return axios\n        .get('', { params: { q, page } })\n        .then(res => res.data.hits)\n}\n\nfetchImages.propTypes = {\n    queryResult: PropTypes.string,\n    page: PropTypes.number\n};\n\nexport default fetchImages;","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\n\nclass Modal extends Component {\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleEscClick)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleEscClick)\n\n    }\n\n    handleEscClick = (ev) => {\n        if (ev.code === \"Escape\") {\n            this.props.toggleModal()\n        }\n    }\n\n    handleOverlayClick = (ev) => {\n        if (ev.currentTarget === ev.target) {\n            this.props.toggleModal()\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"Overlay\" onClick={this.handleOverlayClick}>\n                <div className=\"Modal\">\n                    {this.props.children}\n                </div>\n            </div>\n        )\n    }\n}\n\nModal.protoType = {\n    handleEscClick: PropTypes.func,\n    toggleModal: PropTypes.func\n}\n\n\nexport default Modal;","import PropTypes from 'prop-types';\n\nconst Button = ({ onClickBtn }) => {\n    return (\n        <button className=\"Button\" onClick={onClickBtn}>Load more...</button>\n    )\n}\n\nButton.protoType = {\n    onClickBtn: PropTypes.func\n}\n\nexport default Button;","import React, { Component } from 'react';\nimport Loader from \"react-loader-spinner\";\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport fetchImages from './services/imageApi';\nimport Modal from './components/Modal'\nimport Button from \"./components/Button\";\nimport CloseBtn from './components/CloseBtn';\n\nimport './App.css';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nclass App extends Component {\n\n  state = {\n    queryResult: '',\n    images: [],\n    page: 1,\n    imageUrl: '',\n    modalStatus: false,\n    loaderStatus: false,\n    error: false,\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.queryResult !== this.state.queryResult) {\n      this.fetchImages()\n    }\n\n    if (this.state.images.length > 12) {\n      this.scrollToBottom()\n    }\n  }\n\n  scrollToBottom = () => {\n    let viewPortHeight = document.documentElement.clientWidth;\n    window.scrollBy(0, viewPortHeight)\n  }\n\n  toggleModal = () => {\n    this.setState(({ modalStatus }) => ({\n      modalStatus: !modalStatus\n    }))\n  }\n\n  fetchImages = () => {\n    const { queryResult, page } = this.state;\n    const q = queryResult\n    const options = { q, page }\n    this.setState(prevState => ({ page: prevState.page + 1, loaderStatus: true }));\n\n    fetchImages(options)\n      .then((images) => {\n        if (images.length > 0) {\n          this.setState((prevState) => ({ images: [...prevState.images, ...images] }))\n        } else {\n          this.setState({ error: true })\n        }\n      })\n      .catch(() => this.setState({ error: true }))\n      .finally(() => this.setState({ loaderStatus: false }))\n  }\n\n  handleQuery = (query) => {\n    if (query !== this.state.queryResult) {\n      this.setState(({ queryResult: query, page: 1, images: [], error: false }))\n    } else {\n      alert('this request has already been completed')\n    }\n  }\n\n  openModal = (url) => {\n    this.setState({\n      imageUrl: url,\n    })\n    this.toggleModal()\n  }\n\n  deleteImg = (imageId) => {\n  \n    console.log('id', imageId);\n    console.log(this.state.images);\n\n    //const mapImg = this.state.images.map(({id}) => console.log(id))\n    //console.log(\"mapImg\", mapImg)\n    const filteredImages = this.state.images.filter(({ id }) => id != imageId);\n     console.log('filteredImages', filteredImages)\n\n      this.setState({images: filteredImages});    \n  }\n\n\n\n  render() {\n    const { images, imageUrl, modalStatus, loaderStatus, error } = this.state;\n    const renderBtn = images.length !== 0 && !loaderStatus;\n\n    return (\n      <div className=\"Container\">\n        <Searchbar onSendQuery={this.handleQuery} />\n        {error && <h1 className=\"ErrorMessage\">No result found!</h1>}\n        {images.length > 0 && < ImageGallery images={images} onImageClick={this.openModal} handleClickBtn={this.deleteImg}/>}\n        {loaderStatus && <Loader type=\"Circles\" color=\" #3f51b5\" height={100} width={100} className=\"Loader\" />}\n        {renderBtn && <Button\n          type=\"button\"\n          onClickBtn={this.fetchImages}\n          className=\"Button\" />}\n        {!!modalStatus &&\n          <Modal toggleModal={this.toggleModal}>\n          <div className=\"modal\">\n            <img src={imageUrl} alt=\"pic\" className=\"modal_img\"/>\n            <CloseBtn handleClickBtn={this.openModal} id={imageUrl} className=\"close_modal_btn\"/>\n            {/* <button className=\"close_modal_btn\" onClick={this.openModal}>x</button> */}\n          </div>\n         \n          </Modal>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\nimport 'modern-normalize/modern-normalize.css';\n//import style from './components/'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n//reportWebVitals();\n"],"sourceRoot":""}