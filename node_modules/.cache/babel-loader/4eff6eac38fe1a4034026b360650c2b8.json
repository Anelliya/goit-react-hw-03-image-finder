{"ast":null,"code":"var _jsxFileName = \"/home/helen/Documents/Projects/React/goit-react-hw-03-image-finder/src/App.js\";\nimport React, { Component } from 'react';\nimport Loader from \"react-loader-spinner\";\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport fetchImages from './components/imageApi';\nimport Modal from './components/Modal';\nimport Button from \"./components/Button\";\nimport './App.css';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      queryResult: '',\n      images: [],\n      page: 1,\n      imageUrl: '',\n      modalStatus: false,\n      loaderStatus: false\n    };\n\n    this.scrollToBottom = () => {\n      let viewPortHeight = document.documentElement.clientWidth;\n      window.scrollBy(0, viewPortHeight);\n    };\n\n    this.toggleModal = () => {\n      this.setState(({\n        modalStatus\n      }) => ({\n        modalStatus: !modalStatus\n      }));\n    };\n\n    this.fetchImages = () => {\n      const {\n        queryResult,\n        page\n      } = this.state;\n      const options = {\n        queryResult,\n        page\n      };\n      this.setState(prevState => ({\n        page: prevState.page + 1,\n        loaderStatus: true\n      }));\n      fetchImages(options).then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images]\n        }));\n      }).catch(error => console.log(\"error\", error)).finally(() => this.setState({\n        loaderStatus: false\n      }));\n    };\n\n    this.handleQuery = query => {\n      this.setState({\n        queryResult: query,\n        page: 1,\n        images: []\n      });\n    };\n\n    this.openModal = url => {\n      this.setState({\n        imageUrl: url\n      });\n      this.toggleModal();\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.queryResult !== this.state.queryResult) {\n      this.fetchImages();\n    }\n\n    if (this.state.images.length > 12) {\n      this.scrollToBottom();\n    }\n  }\n\n  render() {\n    console.log(\"loader\", this.state.loaderStatus);\n    const {\n      images,\n      imageUrl,\n      modalStatus,\n      loaderStatus\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Container\",\n      children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n        onClick: this.handleQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), images.length > 0 && /*#__PURE__*/_jsxDEV(ImageGallery, {\n        images: images,\n        onImageClick: this.openModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 31\n      }, this), loaderStatus && /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"Circles\",\n        color: \" #3f51b5\",\n        height: 100,\n        width: 100,\n        className: \"Loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 26\n      }, this), images.length >= 12 && !loaderStatus && /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onButtonClick: this.fetchImages,\n        className: \"Button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 50\n      }, this), !!modalStatus && /*#__PURE__*/_jsxDEV(Modal, {\n        toggleModal: this.toggleModal,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imageUrl,\n          alt: \"pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/helen/Documents/Projects/React/goit-react-hw-03-image-finder/src/App.js"],"names":["React","Component","Loader","Searchbar","ImageGallery","fetchImages","Modal","Button","App","state","queryResult","images","page","imageUrl","modalStatus","loaderStatus","scrollToBottom","viewPortHeight","document","documentElement","clientWidth","window","scrollBy","toggleModal","setState","options","prevState","then","catch","error","console","log","finally","handleQuery","query","openModal","url","componentDidUpdate","prevProps","length","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Loader from \"react-loader-spinner\";\n\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport fetchImages from './components/imageApi';\nimport Modal from './components/Modal'\nimport Button from \"./components/Button\";\n\nimport './App.css';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\n\nclass App extends Component {\n\n  state = {\n    queryResult: '',\n    images: [],\n    page: 1,\n    imageUrl: '',\n    modalStatus: false,\n    loaderStatus: false,\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.queryResult !== this.state.queryResult) {\n      this.fetchImages()\n    }\n\n    if (this.state.images.length > 12) {\n      this.scrollToBottom()\n    }\n  }\n\n  scrollToBottom = () => {\n    let viewPortHeight = document.documentElement.clientWidth;\n    window.scrollBy(0, viewPortHeight)\n  }\n\n  toggleModal = () => {\n    this.setState(({ modalStatus }) => ({\n      modalStatus: !modalStatus\n    }))\n  }\n\n  fetchImages = () => {\n    const { queryResult, page } = this.state;\n    const options = { queryResult, page }\n    this.setState(prevState => ({ page: prevState.page + 1, loaderStatus: true }));\n\n    fetchImages(options)\n      .then((images) => { this.setState((prevState) => ({ images: [...prevState.images, ...images] })) })\n      .catch(error => console.log(\"error\", error))\n      .finally(() => this.setState({ loaderStatus: false }))\n  }\n\n  handleQuery = (query) => {\n    this.setState(({ queryResult: query, page: 1, images: [] }))\n  }\n\n  openModal = (url) => {\n    this.setState({\n      imageUrl: url,\n    })\n    this.toggleModal()\n  }\n\n  render() {\n    console.log(\"loader\", this.state.loaderStatus)\n    const { images, imageUrl, modalStatus, loaderStatus } = this.state;\n\n    return (\n      <div className=\"Container\">\n        <Searchbar onClick={this.handleQuery} />\n        {images.length > 0 && < ImageGallery images={images} onImageClick={this.openModal} />}\n        {loaderStatus && <Loader type=\"Circles\" color=\" #3f51b5\" height={100} width={100} className=\"Loader\" />}\n        {images.length >= 12 && !loaderStatus && <Button\n          type=\"button\"\n          onButtonClick={this.fetchImages}\n          className=\"Button\" />}\n        {!!modalStatus &&\n          <Modal toggleModal={this.toggleModal}>\n            <img src={imageUrl} alt=\"pic\" />\n          </Modal>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}